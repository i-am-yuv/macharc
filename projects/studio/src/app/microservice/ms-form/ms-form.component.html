<div class="bg-white p-4 my-4 flex place-items-center">
  <div class="mr-6">
    <vezo-icon
      icon="arrowLeft"
      [routerLink]="['/builder/microservices/' + dataSingle?.project?.id]"
      className="cursor-pointer"
    ></vezo-icon>
  </div>
  <div>
    <h1 class="title">Microservice</h1>
  </div>
</div>

<div class="bg-white p-16">
  <form [formGroup]="form">
    <vezo-select
      [items]="projects"
      optionLabel="projectName"
      label="Project"
      formControlName="project"
    ></vezo-select>
    <vezo-input
      label="Service Code"
      formControlName="microServiceCode"
    ></vezo-input>
    <error-message
      [controlName]="form.controls['microServiceCode']"
    ></error-message>
    <vezo-input label="Package Name" formControlName="packageName"></vezo-input>
    <error-message [controlName]="form.controls['packageName']"></error-message>
    <div>
      <div class="inline-block w-1/2 pr-4">
        <vezo-inputnumber
          label="Port Number"
          formControlName="portNumber"
        ></vezo-inputnumber>
        <error-message
          [controlName]="form.controls['portNumber']"
        ></error-message>
      </div>
      <div class="inline-block w-1/2">
        <vezo-select
          [items]="packaging"
          label="Packaging"
          formControlName="packaging"
        ></vezo-select>
      </div>
    </div>
    <vezo-textarea
      label="Service Name"
      formControlName="microServiceName"
    ></vezo-textarea>
    <error-message
      [controlName]="form.controls['microServiceName']"
    ></error-message>
    <div class="pb-4 flex space-x-12 my-4">
      <div>
        <vezo-button
          icon="chevronRight"
          [routerLink]="['/builder/collections/' + msId]"
          label="Model Definitions"
        ></vezo-button>
      </div>
      <div>
        <vezo-button
          icon="chevronRight"
          [routerLink]="['/builder/datasources/' + msId]"
          label="Link Datasources"
        ></vezo-button>
      </div>
      <div>
        <vezo-button
          icon="chevronRight"
          [routerLink]="['/builder/services/' + msId]"
          label="Service Definitions"
        ></vezo-button>
      </div>
      <div class="flex-grow text-right">
        <vezo-button
          label="Save"
          [disabled]="!form.valid"
          (click)="saveData()"
        ></vezo-button>
      </div>
    </div>
  </form>
  <vezo-toast></vezo-toast>
</div>

<!-- Web Terminal Code -->
<div>
  <ng-terminal #term [minHeight]="200"></ng-terminal>
  <div style="text-align: right; margin-top: 20px">
    <button style="margin-right: 10px" (click)="stopMessages()">
      Disconnect
    </button>
    <button style="margin-right: 10px" (click)="stopServer()">
      Stop Server
    </button>
    <button (click)="startServer()">Start Server</button>
  </div>
</div>
